@page
@model LogoutModel
@{
    ViewData["Title"] = "Log out";
}

<div class="d-flex justify-content-center align-items-center" style="min-height:60vh;">
    <div class="card shadow-sm" style="max-width:720px;width:100%;">
        <div class="card-body text-center">
            <h2 class="card-title mb-3">@ViewData["Title"]</h2>

            @if (User.Identity?.IsAuthenticated ?? false)
            {
                <p class="lead">You are about to be logged out.</p>
                <form class="d-inline" asp-area="Identity" asp-page="/Account/Logout" method="post">
                    <button type="submit" class="btn btn-danger">Confirm Logout</button>
                </form>
            }
            else
            {
                <p class="lead text-success">You have successfully logged out.</p>
            }

            <p class="mt-3 text-muted">You will be redirected to the homepage in <span id="countdown">5</span> seconds.</p>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // meta refresh fallback
        setTimeout(function () { window.location.href = '/'; }, 5000);
        var sec = 5;
        var el = document.getElementById('countdown');
        if (el) {
            var t = setInterval(function () { sec--; el.innerText = sec; if (sec <= 0) clearInterval(t); }, 1000);
        }
    </script>
}
